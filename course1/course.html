<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>石头剪刀布</title>
  <style>
    #div{
      width: 600px;
      height: 500px;
      margin: 0px auto;
    }
    #div h2{
      color:#444;
    }
    #div h2 span{
      color:blue;
      font-size:35px;
    }
    #div #show p{
      color:#444;
      font-size:22px;
      display: inline-block;
      float:right;
    }
    #div #show p span{
      color:blue;
      font-size:35px;
    }
  </style>
  <script type="text/javascript">
    window.onload = function (){
      var jiandao = document.getElementById("jiandao");
      var shitou = document.getElementById("shitou");
      var bu = document.getElementById("bu");

      var flag = 0;
      var text_flag = 0;
      var count = 0;

      var user = document.getElementById("text-user");
      var Computer = document.getElementById("text-computer");
      var text_result = document.getElementById("result");
      var text_count = document.getElementById("count");

      jiandao.onclick = function(){
        user.src = jiandao.src;
        text_flag = 1;
        setComputer();
        result();
      };
      shitou.onclick = function(){
        user.src = shitou.src;
        text_flag = 2;
        setComputer();
        result();
      };
      bu.onclick = function(){
        user.src = bu.src;
        text_flag = 3;
        setComputer();
        result();
      };

      function setComputer(){
        var r = Math.random();
        if(r < 0.33){
          Computer.src = jiandao.src;
          flag = 1;
        }else if( r < 0.66){
          Computer.src = shitou.src;
          flag = 2;
        }else{
          Computer.src = bu.src;
          flag = 3;
        }
      };

      function result(){
        switch(flag){
          case 1:
              if(text_flag === 1){
              text_result.innerHTML = "相等";
            }else if(text_flag === 2){
              text_result.innerHTML = "赢了";
              count ++;
            }else{
              text_result.innerHTML = "输了";
            }
              break;
        case 2:
             if(text_flag === 2){
              text_result.innerHTML = "相等";
            }else if(text_flag === 3){
              text_result.innerHTML = "赢了";
              count ++;
            }else{
              text_result.innerHTML = "输了";
            }
              break;
          default:
             if(text_flag === 3){
              text_result.innerHTML = "相等";
            }else if(text_flag === 1){
              text_result.innerHTML = "赢了";
              count ++;
            }else{
              text_result.innerHTML = "输了";
            }
              break;
          }
          text_count.innerHTML = count;
      };
    }
  </script>
</head>

<body>
  <div id="div">
    <div>
      <h2>用户点击：</h2>
      <img id="jiandao" src="https://github.com/baidu-ife/ife/blob/master/2015_summer/asset/jiandao.jpg?raw=true">
      <img id="shitou" src="https://github.com/baidu-ife/ife/blob/master/2015_summer/asset/shitou.jpg?raw=true">
      <img id="bu" src="https://github.com/baidu-ife/ife/blob/master/2015_summer/asset/bu.jpg?raw=true">
    </div>
    <hr />
    <div id="show">
      <h2>结果：<span id="result"></span></h2>
      <p>你已获胜<span id="count">0</span>次</p>
    </div>
    <div id="text">
      <img id="text-user">
      <img id="text-computer">
    </div>
  </div>
</body>
</html>
